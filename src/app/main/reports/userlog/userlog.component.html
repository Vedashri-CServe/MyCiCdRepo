<div class="row">
    <div class="card-body pb-1">
        <div class="col-md-12 col-12 d-flex justify-content-start justify-content-md-end">
            <form class="form-inline">
                <div class="form-group">
                    <div class="input-group w-0">
                        <input name="datepicker" class="form-control" ngbDatepicker #datepicker="ngbDatepicker"
                            [autoClose]="'outside'" (dateSelect)="onDateSelection($event)" [displayMonths]="2"
                            [dayTemplate]="rangeSelectionDP" [maxDate]="maxDate" outsideDays="hidden"
                            [startDate]="fromDate!" />
                        <ng-template #rangeSelectionDP let-date let-focused="focused">
                            <span class="custom-day" [class.focused]="focused" [class.range]="isRange(date)"
                                [class.faded]="isHovered(date) || isInside(date)" (mouseenter)="hoveredDate = date"
                                (mouseleave)="hoveredDate = null">
                                {{ date.day }}
                            </span>
                        </ng-template>
                    </div>
                </div>
                <div class="input-group">
                    <input class="form-control" placeholder="{{ basicDPdata }}" [maxDate]="maxtodayDate"
                        name="selectDate" [(ngModel)]="basicDPdata" ngbDatepicker #basicDP="ngbDatepicker" readonly />
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary feather icon-calendar" (click)="basicDP.toggle()"
                            type="button" rippleEffect></button>
                    </div>
                </div>
                <button class="btn btn-primary ml-1 round" (click)="searchData(basicDPdata)" rippleEffect [disabled]="!basicDPdata">
                    <i data-feather="plus" class="d-sm-none d-inline-block mr-0 mr-sm-1"></i>
                    <span class="d-none d-sm-inline-block">Search</span>
                </button>
            </form>
        </div>
    </div>
</div>
<div class="row">
    <div class="col-md-5 col-12">
        <div class="d-flex align-items-center">
            <label class="d-flex align-items-center">Show
                <select class="form-control mx-25" [(ngModel)]="selectedOption"
                    (change)="selectDropdown(selectedOption)">
                    <option value="10">10</option>
                    <option value="25">25</option>
                    <option value="50">50</option>
                    <option value="100">100</option>
                </select>
            </label>
            <div ngbDropdown class="reportFilter" #reportFilter="ngbDropdown">
                <button class="cursor-pointer more-options-dropdown btn btn-outline-secondary hide-arrow"
                     role="button" ngbTooltip="Filters" type="button" data-toggle="dropdown"  aria-haspopup="true" aria-expanded="false" ngbDropdownToggle>
                    <i data-feather="filter"></i>
                </button>
                <div ngbDropdownMenu aria-labelledby="dropdownFilter" class="p-0">
                    <div ngbDropdownMenu class="dropdown-menu dropdown-menu-right item-options-menu p-1" aria-labelledby="dropdownMenuButton">
                        <div class="d-flex align-items-center justify-content-between">
                            <h5 class="font-bold mb-0">Filters</h5>
                            <button type="button" class="btn btn-icon btn-icon rounded-circle p-0" rippleEffect
                                (click)="reportFilter.close()">
                                <i data-feather="x"></i>
                            </button>
                        </div>
                        <div class="dropdown-divider my-1"></div>
                        <form class="form">
                            <div class="form-row d-block mx-auto">
                                <div class="form-group">
                                    <label class="form-label">Department</label>
                                    <ng-select [items]="userDepartment" bindLabel="name" placeholder="Department"
                                        name="department" [(ngModel)]="department" #FBilingTypeRef="ngModel">
                                    </ng-select>
                                </div>
                            </div>
                            <div class="form-row d-block mx-auto">
                                <div class="form-group">
                                    <label class="form-label">User</label>
                                    <ng-select [items]="userList" bindLabel="name" placeholder="User" name="userId"
                                        [multiple]="true" [ngModelOptions]="{standalone: true}" [closeOnSelect]="false" [(ngModel)]="userId">
                                    </ng-select>
                                </div>
                            </div>
                            <div class="form-row d-block mx-auto">
                                <div class="form-group">
                                    <label class="form-label">Is Logged In?</label>
                                    <ng-select [items]="userLogStatusList" bindLabel="name" placeholder="Is Logged In?" name="status" [(ngModel)]="userLogStatus">
                                    </ng-select>
                                </div>
                            </div>
                            <div class="dropdown-divider my-1"></div>
                            <div class="d-flex justify-content-between">
                                <button type="reset" class="btn btn-outline-danger btn-apply-changes" rippleEffect
                                    (click)="resetFilter(); reportFilter.close()">
                                    Reset
                                </button>
                                <button type="submit" class="btn btn-outline-primary btn-apply-changes" rippleEffect
                                    (click)="applyFilter(); reportFilter.close()">
                                    Apply
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-7 col-12 d-flex justify-content-start justify-content-md-end">
        <div class="d-flex align-items-center justify-content-end pr-1 pb-1 pb-md-0 mb-1">
            <label class="d-flex align-items-center pr-1 pb-1 pb-md-0">
                Search <input [(ngModel)]="searchValue" name="searchValue" type="search" class="form-control ml-25"
                    (search)="filterUpdate($event)" (keyup)="filterUpdate($event)" />
            </label>
            <a class="btn btn-outline-secondary float-right ml-1 mb-0" ngbTooltip="Export" (click)="exportReport()"  rippleEffect><span [data-feather]="'download'"></span></a>
        </div>
    </div>
</div>
<ngx-datatable [rows]="rows" [rowHeight]="50" class="bootstrap core-bootstrap wordwrapbody" [count]="totalElements"
    [offset]="Number" [limit]="selectedOption" [externalPaging]="true" (page)="setPage($event)"
    [columnMode]="ColumnMode.force" [headerHeight]="50" [footerHeight]="50" [scrollbarH]="true">
    <ngx-datatable-column name="Use Name" prop="UserName" [width]="150" [resizeable]="true"></ngx-datatable-column>
    <ngx-datatable-column name="Reporting To" prop="ReportingTo" [width]="150" [resizeable]="true"></ngx-datatable-column>
    <ngx-datatable-column name="Department" prop="DepartmentName" [width]="150" [resizeable]="true"></ngx-datatable-column>
    <ngx-datatable-column name="Login" prop="WebLoginTime" [width]="150" [resizeable]="true">
    </ngx-datatable-column>
    <ngx-datatable-column name="Logout" prop="WebLogoutTime" [width]="150" [resizeable]="true"></ngx-datatable-column>
    <ngx-datatable-column name="Idle Time" prop="IdleTimeForDay" [width]="150" [resizeable]="true"></ngx-datatable-column>
    <ngx-datatable-column name="Break Time" prop="BreakTimeForDay" [width]="150" [resizeable]="true">
    </ngx-datatable-column>
    <ngx-datatable-column name="Productive Time" prop="TotalTimeSpentForDay" [width]="150" [resizeable]="true">
    </ngx-datatable-column>
    <ngx-datatable-column name="Is Logged In?" prop="PresentStatus" [width]="150" [resizeable]="true">
    </ngx-datatable-column>
</ngx-datatable>